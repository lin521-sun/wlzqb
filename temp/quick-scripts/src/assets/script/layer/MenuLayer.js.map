{"version":3,"sources":["assets\\script\\layer\\MenuLayer.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Created by carolsail\r\n\r\nimport { ENUM_AUDIO_CLIP, ENUM_GAME_EVENT, ENUM_UI_TYPE } from \"../Enum\";\r\nimport { StaticInstance } from './../StaticInstance';\r\nimport AudioManager from \"../manager/AudioManager\";\r\nimport BaseLayer from \"./Baselayer\";\r\nimport EventManager from \"../manager/EventManager\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\ndeclare let tt: any;\r\n@ccclass\r\nexport default class MenuLayer extends BaseLayer {\r\n  @property(cc.Node)\r\n  Rank: cc.Node = null;\r\n  @property(cc.Node)\r\n  Cbl: cc.Node = null;\r\n  @property(cc.Node)\r\n  Desk: cc.Node = null;\r\n  protected onEnable(): void {\r\n    if (!window[\"tt\"]) {\r\n      //TODO 排行榜按钮 入口有礼按钮 添加桌面按钮 隐藏\r\n      this.Rank.active = false;\r\n      this.Cbl.active = false;\r\n      this.Desk.active = false;\r\n    }\r\n  }\r\n\r\n  onStartClick() {\r\n    AudioManager.instance.playSound(ENUM_AUDIO_CLIP.CLICK)\r\n    StaticInstance.uiManager.toggle(ENUM_UI_TYPE.MENU, false)\r\n    StaticInstance.uiManager.toggle(ENUM_UI_TYPE.GAME)\r\n  }\r\n\r\n  onLevelClick() {\r\n    AudioManager.instance.playSound(ENUM_AUDIO_CLIP.CLICK)\r\n    StaticInstance.uiManager.toggle(ENUM_UI_TYPE.LEVEL)\r\n  }\r\n\r\n  onRankClick() {\r\n    AudioManager.instance.playSound(ENUM_AUDIO_CLIP.CLICK)\r\n    // StaticInstance.uiManager.toggle(ENUM_UI_TYPE.RANK)\r\n    if (window[\"tt\"]) {\r\n      tt.getImRankList({\r\n        relationType: \"default\", //好友榜、总榜都展示\r\n        dataType: 0, //只圈选type为枚举类型的数据进行排序\r\n        rankType: \"day\", //每天凌晨0点更新，只对当天0点到现在写入的数据进行排序\r\n        suffix: \"分\", //为空或不填，一般枚举类型不需要填后缀\r\n        rankTitle: \"排行榜(每日更新)\", //标题\r\n        zoneId: 'test',\r\n        success(res) {\r\n          console.log(`getImRankData success res: ${res}`);\r\n        },\r\n        fail(res) {\r\n          console.log(`getImRankData fail res: ${res.errMsg}`);\r\n        },\r\n      });\r\n    }\r\n  }\r\n  onCblClick() {\r\n    AudioManager.instance.playSound(ENUM_AUDIO_CLIP.CLICK)\r\n    StaticInstance.uiManager.toggle(ENUM_UI_TYPE.SIDEBARLAYER)\r\n  }\r\n  onAddDeskClick() {\r\n    AudioManager.instance.playSound(ENUM_AUDIO_CLIP.CLICK)\r\n    if (window[\"tt\"]) {\r\n      tt.addShortcut({\r\n        success() {\r\n          console.log(\"添加桌面成功\");\r\n        },\r\n        fail(err) {\r\n          console.log(\"添加桌面失败\", err.errMsg);\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  onSettingClick() {\r\n    AudioManager.instance.playSound(ENUM_AUDIO_CLIP.CLICK)\r\n    StaticInstance.uiManager.toggle(ENUM_UI_TYPE.SETTING)\r\n    EventManager.instance.emit(ENUM_GAME_EVENT.RENDOR_HOME_BTN, false)\r\n  }\r\n}\r\n"]}