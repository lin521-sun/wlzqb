{"version":3,"sources":["assets\\script\\layer\\WinLayer.ts"],"names":[],"mappings":";;;;;AAAA,uBAAuB;;;;;;;;;;;;;;;;;;;;;AAEvB,gCAAyE;AACzE,sDAAqD;AACrD,wDAAmD;AACnD,yCAAoC;AACpC,wDAAmD;AACnD,oDAA+C;AAEzC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,4BAAS;IAA/C;QAAA,qEA2CC;QAzCG,YAAM,GAAY,IAAI,CAAC;QAEvB,UAAI,GAAY,IAAI,CAAC;;IAuCzB,CAAC;IAtCa,yBAAM,GAAhB;QACI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;YACf,6BAA6B;YAC7B,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC;SAC5B;IACP,CAAC;IACD,iCAAc,GAAd;QACI,sBAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,sBAAe,CAAC,KAAK,CAAC,CAAA;QACtD,+BAAc,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAY,CAAC,GAAG,EAAE,KAAK,CAAC,CAAA;QACxD,sBAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAe,CAAC,YAAY,CAAC,CAAA;IAC5D,CAAC;IAED,8BAAW,GAAX;QACI,sBAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,sBAAe,CAAC,KAAK,CAAC,CAAA;QACtD,+BAAc,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAY,CAAC,GAAG,EAAE,KAAK,CAAC,CAAA;QACxD,sBAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAe,CAAC,SAAS,CAAC,CAAA;IACzD,CAAC;IAED,+BAAY,GAAZ;QACI,sBAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,sBAAe,CAAC,KAAK,CAAC,CAAA;QACtD,wCAAwC;QACxC,oBAAU,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACzD,CAAC;IAED,qCAAkB,GAAlB,UAAmB,MAAe;QAC9B,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,MAAM,GAAG,MAAM,CAAA;QACpD,IAAG,MAAM,EAAC;YACN,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SAC5B;aACG;YACA,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SAC3B;IACL,CAAC;IAED,gCAAa,GAAb;QACI,sBAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,sBAAe,CAAC,KAAK,CAAC,CAAA;QACtD,oBAAU,CAAC,QAAQ,CAAC,mBAAmB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC5D,CAAC;IAxCD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;4CACK;IAEvB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0CACG;IAJJ,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA2C5B;IAAD,eAAC;CA3CD,AA2CC,CA3CqC,mBAAS,GA2C9C;kBA3CoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["// Created by carolsail\r\n\r\nimport { ENUM_AUDIO_CLIP, ENUM_GAME_EVENT, ENUM_UI_TYPE } from \"../Enum\";\r\nimport { StaticInstance } from './../StaticInstance';\r\nimport AudioManager from \"../manager/AudioManager\";\r\nimport BaseLayer from \"./Baselayer\";\r\nimport EventManager from \"../manager/EventManager\";\r\nimport SdkManager from \"../manager/SdkManager\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class WinLayer extends BaseLayer {\r\n    @property(cc.Node)\r\n    goFire: cc.Node = null;\r\n    @property(cc.Node)\r\n    next: cc.Node = null;\r\n    protected onLoad(): void {\r\n        if (!window[\"tt\"]) {\r\n            //TODO 排行榜按钮 入口有礼按钮 添加桌面按钮 隐藏\r\n            this.goFire.active = false;\r\n          }\r\n    }\r\n    onRestartClick() {\r\n        AudioManager.instance.playSound(ENUM_AUDIO_CLIP.CLICK)\r\n        StaticInstance.uiManager.toggle(ENUM_UI_TYPE.WIN, false)\r\n        EventManager.instance.emit(ENUM_GAME_EVENT.GAME_RESTART)\r\n    }\r\n\r\n    onNextClick() {\r\n        AudioManager.instance.playSound(ENUM_AUDIO_CLIP.CLICK)\r\n        StaticInstance.uiManager.toggle(ENUM_UI_TYPE.WIN, false)\r\n        EventManager.instance.emit(ENUM_GAME_EVENT.GAME_NEXT)\r\n    }\r\n\r\n    onShareClick() {\r\n        AudioManager.instance.playSound(ENUM_AUDIO_CLIP.CLICK)\r\n        // SdkManager.instance.gameShareActive()\r\n        SdkManager.instance.shareGameToFriend(null, '分享给好友');\r\n    }\r\n\r\n    showCompleteNotice(status: boolean) {\r\n        this.node.getChildByName('Complete').active = status\r\n        if(status){\r\n            this.next.active = false;\r\n        }\r\n        else{\r\n            this.next.active = true;\r\n        }\r\n    }\r\n\r\n    onGoFireClick() {\r\n        AudioManager.instance.playSound(ENUM_AUDIO_CLIP.CLICK)\r\n        SdkManager.instance.recordingVideoShare(null, '录制视频分享');\r\n    }\r\n}\r\n"]}